BEGIN ~OHBMOLZA~

IF ~  Global("OHB_TALKED_MOLZHAN","LOCALS",0)
Global("ohb_finale","global",0)
~ THEN BEGIN 0
  SAY #91096
  IF ~~ THEN REPLY #91098 DO ~SetGlobal("OHB_TALKED_MOLZHAN","LOCALS",1)
~ GOTO 1
  IF ~~ THEN REPLY #91100 DO ~SetGlobal("OHB_TALKED_MOLZHAN","LOCALS",1)
~ GOTO 1
  IF ~~ THEN REPLY #91102 DO ~SetGlobal("OHB_TALKED_MOLZHAN","LOCALS",1)
~ GOTO 3
END

IF ~~ THEN BEGIN 1
  SAY #91104
  IF ~~ THEN REPLY #91106 GOTO 2
  IF ~~ THEN REPLY #91107 GOTO 2
  IF ~~ THEN REPLY #91108 GOTO 2
END

IF ~~ THEN BEGIN 2
  SAY #91109
  IF ~~ THEN GOTO 4
END

IF ~~ THEN BEGIN 3
  SAY #91110
  IF ~~ THEN GOTO 4
END

IF ~~ THEN BEGIN 4
  SAY #91111
  IF ~~ THEN REPLY #91112 GOTO 8
  IF ~~ THEN REPLY #91113 GOTO 9
  IF ~~ THEN REPLY #91114 GOTO 30
  IF ~~ THEN REPLY #91115 GOTO 33
END

IF ~~ THEN BEGIN 5
  SAY #91116
  IF ~~ THEN REPLY #91117 GOTO 6
  IF ~~ THEN REPLY #91118 GOTO 32
  IF ~~ THEN REPLY #91115 GOTO 33
  IF ~~ THEN REPLY #91122 GOTO 12
END

IF ~~ THEN BEGIN 6
  SAY #91123
  IF ~~ THEN REPLY #91125 GOTO 7
  IF ~~ THEN REPLY #91126 GOTO 32
  IF ~~ THEN REPLY #91115 GOTO 33
  IF ~~ THEN REPLY #91129 GOTO 13
END

IF ~~ THEN BEGIN 7
  SAY #91131
  IF ~~ THEN REPLY #91133 GOTO 32
  IF ~~ THEN REPLY #91115 GOTO 33
  IF ~~ THEN REPLY #91135 GOTO 12
END

IF ~~ THEN BEGIN 8
  SAY #91137
  IF ~~ THEN DO ~StartStore("ohbmolza",LastTalkedToBy(Myself))
~ EXIT
END

IF ~~ THEN BEGIN 9
  SAY #91138
  IF ~~ THEN DO ~StartStore("ohbmolza",LastTalkedToBy(Myself))
~ EXIT
END

IF ~~ THEN BEGIN 10
  SAY #91139
  IF ~~ THEN REPLY #91140 GOTO 25
  IF ~~ THEN REPLY #91141 GOTO 27
  IF ~~ THEN REPLY #91142 GOTO 28
END

IF ~~ THEN BEGIN 11
  SAY #91144
  IF ~~ THEN REPLY #91145 GOTO 17
  IF ~~ THEN REPLY #91147 GOTO 32
  IF ~~ THEN REPLY #91115 GOTO 33
  IF ~~ THEN REPLY #91148 GOTO 14
END

IF ~~ THEN BEGIN 12
  SAY #91149
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 13
  SAY #94729
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 14
  SAY #94730
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 15
  SAY #94731
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 16
  SAY #94732
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 17
  SAY #91150
  IF ~~ THEN REPLY #91151 GOTO 18
  IF ~~ THEN REPLY #91152 GOTO 19
  IF ~~ THEN REPLY #91153 GOTO 32
  IF ~~ THEN REPLY #91115 GOTO 33
  IF ~~ THEN REPLY #91154 GOTO 15
END

IF ~~ THEN BEGIN 18
  SAY #91155
  IF ~~ THEN DO ~AddJournalEntry(91264,QUEST)
~ GOTO 19
END

IF ~~ THEN BEGIN 19
  SAY #91156
  IF ~~ THEN REPLY #91152 GOTO 21
  IF ~~ THEN REPLY #91157 GOTO 20
  IF ~~ THEN REPLY #91158 GOTO 32
  IF ~~ THEN REPLY #91115 GOTO 33
  IF ~~ THEN REPLY #91159 GOTO 12
END

IF ~~ THEN BEGIN 20
  SAY #91160
  IF ~~ THEN GOTO 21
END

IF ~~ THEN BEGIN 21
  SAY #91161
  IF ~~ THEN REPLY #91162 GOTO 22
  IF ~~ THEN REPLY #91163 GOTO 32
  IF ~~ THEN REPLY #91115 GOTO 33
  IF ~~ THEN REPLY #91164 GOTO 16
END

IF ~~ THEN BEGIN 22
  SAY #91165
  IF ~~ THEN REPLY #91167 GOTO 23
  IF ~~ THEN REPLY #91169 GOTO 32
  IF ~~ THEN REPLY #91115 GOTO 33
  IF ~~ THEN REPLY #91171 GOTO 12
END

IF ~~ THEN BEGIN 23
  SAY #91173
  IF ~~ THEN REPLY #91174 GOTO 32
  IF ~~ THEN REPLY #91175 GOTO 24
  IF ~~ THEN REPLY #91177 GOTO 33
END

IF ~~ THEN BEGIN 24
  SAY #91181
  IF ~~ THEN REPLY #91174 GOTO 32
  IF ~~ THEN REPLY #91183 GOTO 32
  IF ~~ THEN REPLY #91115 GOTO 33
  IF ~~ THEN REPLY #91184 GOTO 12
END

IF ~~ THEN BEGIN 25
  SAY #91185
  IF ~~ THEN REPLY #91187 GOTO 32
  IF ~~ THEN REPLY #91188 GOTO 33
  IF ~~ THEN REPLY #99396 GOTO 12
END

IF ~~ THEN BEGIN 26
  SAY #91190
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 27
  SAY #91191
  IF ~~ THEN REPLY #91192 GOTO 32
  IF ~~ THEN REPLY #91188 GOTO 33
  IF ~~ THEN REPLY #91189 GOTO 12
END

IF ~~ THEN BEGIN 28
  SAY #91193
  IF ~~ THEN GOTO 29
END

IF ~~ THEN BEGIN 29
  SAY #91194
  IF ~~ THEN REPLY #94733 GOTO 32
  IF ~~ THEN REPLY #91188 GOTO 33
  IF ~~ THEN REPLY #91189 GOTO 12
END

IF ~~ THEN BEGIN 30
  SAY #91195
  IF ~~ THEN REPLY #91196 GOTO 10
  IF ~~ THEN REPLY #91197 GOTO 11
  IF ~~ THEN REPLY #91198 DO ~AddJournalEntry(91263,INFO)
~ GOTO 5
  IF ~  PartyHasItem("OHBGLOV1")
~ THEN REPLY #94734 GOTO 31
  IF ~~ THEN REPLY #91199 GOTO 33
END

IF ~~ THEN BEGIN 31
  SAY #94735
  IF ~~ THEN REPLY #94736 GOTO 32
  IF ~~ THEN REPLY #94737 GOTO 33
END

IF ~  Global("OHB_TALKED_MOLZHAN","LOCALS",1)
Global("ohb_finale","global",0)
~ THEN BEGIN 32
  SAY #91215
  IF ~~ THEN REPLY #94738 GOTO 8
  IF ~~ THEN REPLY #91113 GOTO 9
  IF ~~ THEN REPLY #91114 GOTO 30
  IF ~  !Global("OHB_GIVEN_ALE","LOCALS",0)
Global("OHB_POISON_JOKER","GLOBAL",2)
~ THEN REPLY #91216 GOTO 34
  IF ~~ THEN REPLY #91199 GOTO 33
END

IF ~~ THEN BEGIN 33
  SAY #91217
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 34
  SAY #91219
  IF ~~ THEN REPLY #91220 GOTO 36
  IF ~~ THEN REPLY #91222 GOTO 44
  IF ~~ THEN REPLY #91224 GOTO 40
END

IF ~~ THEN BEGIN 35
  SAY #91225
  IF ~~ THEN GOTO 36
END

IF ~~ THEN BEGIN 36
  SAY #91226
  IF ~~ THEN REPLY #91227 GOTO 37
  IF ~~ THEN REPLY #91229 GOTO 41
  IF ~~ THEN REPLY #91230 GOTO 40
END

IF ~~ THEN BEGIN 37
  SAY #91232
  IF ~~ THEN REPLY #91235 GOTO 38
  IF ~~ THEN REPLY #91237 GOTO 43
  IF ~~ THEN REPLY #91239 GOTO 39
END

IF ~~ THEN BEGIN 38
  SAY #91241
  IF ~~ THEN REPLY #91243 GOTO 44
  IF ~~ THEN REPLY #91246 GOTO 43
  IF ~~ THEN REPLY #91247 GOTO 40
END

IF ~~ THEN BEGIN 39
  SAY #94742
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 40
  SAY #94743
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 41
  SAY #91249
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 42
  SAY #91250
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 43
  SAY #91251
  IF ~  PartyGoldGT(999)
~ THEN REPLY #91252 DO ~TakePartyGold(1000)
SetGlobal("OHB_GIVEN_ALE","LOCALS",1)
AddJournalEntry(91265,QUEST)
GiveItemCreate("OHBPTN04",LastTalkedToBy,1,0,0)
~ EXIT
  IF ~  !PartyGoldGT(999)
~ THEN REPLY #91253 GOTO 42
  IF ~~ THEN REPLY #91254 GOTO 41
  IF ~~ THEN REPLY #91255 GOTO 12
END

IF ~~ THEN BEGIN 44
  SAY #91256
  IF ~~ THEN DO ~SetGlobal("OHB_GIVEN_ALE","LOCALS",1)
AddJournalEntry(91265,QUEST)
GiveItemCreate("OHBPTN04",LastTalkedToBy,1,0,0)
~ EXIT
END

IF ~  Global("ohb_finale","global",6)
Global("ohb_molzahn_line_gift","global",0)
~ THEN BEGIN 45
  SAY #92978
  IF ~~ THEN DO ~SetGlobal("ohb_molzahn_line_gift","global",1)
GiveItemCreate("potn35",Player1,1,0,0)
GiveItemCreate("potn24",Player1,1,0,0)
~ GOTO 46
END

IF ~  Global("ohb_finale","global",6)
Global("ohb_molzahn_line_gift","global",1)
~ THEN BEGIN 46
  SAY #92979
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 47
  SAY #92978
  IF ~~ THEN DO ~SetGlobal("ohb_molzahn_line_gift","global",1)
GiveItemCreate("potn35",Player1,1,0,0)
GiveItemCreate("potn24",Player1,1,0,0)
StartCutSceneMode()
StartCutScene("ohbcut23")
~ EXIT
  IF ~  Global("OHB_DULF_BANNORSWITCH","GLOBAL",4)
Detect("ohbdulf")
~ THEN DO ~SetGlobal("ohb_molzahn_line_gift","global",1)
GiveItemCreate("potn35",Player1,1,0,0)
GiveItemCreate("potn24",Player1,1,0,0)
~ EXTERN ~OHBDULF~ 65
  IF ~  Global("ohb_cook_line_gift","global",0)
Detect("ohbmardu")
~ THEN DO ~SetGlobal("ohb_molzahn_line_gift","global",1)
GiveItemCreate("potn35",Player1,1,0,0)
GiveItemCreate("potn24",Player1,1,0,0)
~ EXTERN ~OHBMARDU~ 17
  IF ~  Global("ohb_laris_line_gift","global",0)
~ THEN DO ~SetGlobal("ohb_molzahn_line_gift","global",1)
GiveItemCreate("potn35",Player1,1,0,0)
GiveItemCreate("potn24",Player1,1,0,0)
~ EXTERN ~OHBLARIS~ 21
  IF ~  Global("ohb_curel_line_gift","global",0)
~ THEN DO ~SetGlobal("ohb_molzahn_line_gift","global",1)
GiveItemCreate("potn35",Player1,1,0,0)
GiveItemCreate("potn24",Player1,1,0,0)
~ EXTERN ~OHBCUREL~ 34
END

IF ~~ THEN BEGIN 48
  SAY #94576
  IF ~~ THEN EXTERN ~OHBLARIS~ 4
END

IF ~~ THEN BEGIN 49
  SAY #94577
  IF ~~ THEN EXTERN ~OHBLARIS~ 4
END

IF ~~ THEN BEGIN 50
  SAY #95887
  IF ~~ THEN EXTERN ~OHBGERRO~ 4
END

IF ~~ THEN BEGIN 51
  SAY #95891
  IF ~~ THEN EXTERN ~OHBGERRO~ 7
END

IF ~~ THEN BEGIN 52
  SAY #94654
  IF ~~ THEN EXTERN ~OHBCUREL~ 10
END

IF ~~ THEN BEGIN 53
  SAY #94655
  IF ~~ THEN EXTERN ~OHBCUREL~ 10
END

IF ~~ THEN BEGIN 54
  SAY #94663
  IF ~~ THEN EXTERN ~OHBCUREL~ 12
END

IF ~~ THEN BEGIN 55
  SAY #94668
  IF ~~ THEN EXTERN ~OHBCUREL~ 15
END

IF ~~ THEN BEGIN 56
  SAY #94683
  IF ~~ THEN EXTERN ~OHBCUREL~ 18
END

IF ~~ THEN BEGIN 57
  SAY #94696
  IF ~~ THEN EXTERN ~OHBCUREL~ 21
END

IF ~  GlobalGT("ohb_finale","global",1)
GlobalLT("ohb_finale","global",5)
~ THEN BEGIN 58
  SAY #94293
  IF ~~ THEN EXTERN ~OHBLARIS~ 24
END

IF ~~ THEN BEGIN 59
  SAY #94296
  IF ~~ THEN EXTERN ~OHBCUREL~ 36
END

IF ~~ THEN BEGIN 60
  SAY #94300
  IF ~~ THEN EXTERN ~OHBCUREL~ 38
END
