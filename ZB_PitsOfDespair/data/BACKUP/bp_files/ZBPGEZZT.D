BEGIN ~OHBGEZZT~

IF WEIGHT #0 ~  OR(2)
Global("ohb_finale","global",2)
Global("ohb_finale","global",3)
RandomNum(2,1)
~ THEN BEGIN 0
  SAY #92944
  IF ~~ THEN EXIT
END

IF WEIGHT #1 ~  OR(2)
Global("ohb_finale","global",2)
Global("ohb_finale","global",3)
RandomNum(2,2)
~ THEN BEGIN 1
  SAY #92945
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 2
  SAY #90584
  IF ~~ THEN EXTERN ~OHBHORT~ 50
END

IF ~~ THEN BEGIN 3
  SAY #90591
  IF ~~ THEN EXTERN ~OHBHORT~ 50
END

IF WEIGHT #3 ~  Global("OHB_FOOD_FIGHT","MYAREA",0)
~ THEN BEGIN 4
  SAY #91705
  IF ~~ THEN REPLY #91711 EXIT
END

IF WEIGHT #4 ~  Global("OHB_TALKED_GEZZT","LOCALS",0)
Global("ohb_finale","global",0)
~ THEN BEGIN 5
  SAY #91705
  IF ~~ THEN REPLY #91706 DO ~AddJournalEntry(94814,INFO)
SetGlobal("OHB_TALKED_GEZZT","LOCALS",1)
~ GOTO 6
  IF ~~ THEN REPLY #91707 DO ~AddJournalEntry(94814,INFO)
SetGlobal("OHB_TALKED_GEZZT","LOCALS",1)
~ GOTO 6
  IF ~~ THEN REPLY #91708 DO ~AddJournalEntry(94814,INFO)
SetGlobal("OHB_TALKED_GEZZT","LOCALS",1)
~ GOTO 6
END

IF ~~ THEN BEGIN 6
  SAY #91709
  IF ~  Global("OHB_FOOD_FIGHT","MYAREA",0)
~ THEN REPLY #91710 GOTO 9
  IF ~~ THEN REPLY #91711 GOTO 7
  IF ~~ THEN REPLY #91712 GOTO 8
END

IF ~~ THEN BEGIN 7
  SAY #91713
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 8
  SAY #91714
  IF ~~ THEN EXIT
END

IF WEIGHT #6 ~  Global("OHB_TALKED_GEZZT","LOCALS",1)
Global("ohb_finale","global",0)
~ THEN BEGIN 9
  SAY #94747
  IF ~~ THEN REPLY #94748 GOTO 10
  IF ~~ THEN REPLY #94749 GOTO 13
  IF ~  Global("OHB_LAST_BATTLE","GLOBAL",103)
~ THEN REPLY #91869 GOTO 25
  IF ~  Global("OHB_LAST_BATTLE","GLOBAL",301)
~ THEN REPLY #91869 GOTO 31
  IF ~  PartyHasItem("ohbcom05")
~ THEN REPLY #102940 GOTO 64
  IF ~  Global("OHB_GEZZT_POISON","GLOBAL",0)
Global("OHB_POISON_JOKER","GLOBAL",2)
~ THEN REPLY #94750 GOTO 19
  IF ~  Global("OHB_GEZZT_POISON","GLOBAL",1)
PartyHasItem("OHBCOM03")
PartyHasItem("OHBPTN09")
~ THEN REPLY #94752 GOTO 22
  IF ~  !Global("OHB_HIRE","GLOBAL",1)
~ THEN REPLY #94751 GOTO 23
  IF ~~ THEN REPLY #94753 GOTO 7
END

IF ~~ THEN BEGIN 10
  SAY #94754
  IF ~~ THEN REPLY #94755 GOTO 12
  IF ~~ THEN REPLY #94756 GOTO 9
  IF ~~ THEN REPLY #94757 GOTO 7
  IF ~~ THEN REPLY #94758 GOTO 11
END

IF ~~ THEN BEGIN 11
  SAY #94759
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 12
  SAY #94760
  IF ~~ THEN REPLY #94761 GOTO 9
  IF ~~ THEN REPLY #94762 GOTO 7
  IF ~~ THEN REPLY #94763 GOTO 8
END

IF ~~ THEN BEGIN 13
  SAY #94764
  IF ~~ THEN REPLY #94765 GOTO 14
  IF ~~ THEN REPLY #94766 GOTO 7
  IF ~~ THEN REPLY #94767 GOTO 8
END

IF ~~ THEN BEGIN 14
  SAY #94768
  IF ~~ THEN GOTO 15
END

IF ~~ THEN BEGIN 15
  SAY #94769
  IF ~~ THEN GOTO 16
END

IF ~~ THEN BEGIN 16
  SAY #94770
  IF ~~ THEN GOTO 17
END

IF ~~ THEN BEGIN 17
  SAY #94771
  IF ~~ THEN GOTO 18
END

IF ~~ THEN BEGIN 18
  SAY #94772
  IF ~~ THEN REPLY #94773 GOTO 9
  IF ~~ THEN REPLY #94774 GOTO 7
  IF ~~ THEN REPLY #94775 GOTO 8
END

IF ~~ THEN BEGIN 19
  SAY #94776
  IF ~~ THEN REPLY #94777 GOTO 20
  IF ~~ THEN REPLY #94778 GOTO 20
  IF ~~ THEN REPLY #94779 GOTO 7
END

IF ~~ THEN BEGIN 20
  SAY #94780
  IF ~  PartyGoldGT(1499)
~ THEN REPLY #91942 DO ~TakePartyGold(1500)
DestroyGold(1500)
~ GOTO 21
  IF ~  PartyGoldLT(1500)
~ THEN REPLY #91943 GOTO 7
  IF ~~ THEN REPLY #91944 GOTO 8
END

IF ~~ THEN BEGIN 21
  SAY #94782
  IF ~~ THEN DO ~SetGlobal("OHB_GEZZT_POISON","GLOBAL",1)
AddJournalEntry(94815,QUEST)
~ EXIT
END

IF ~~ THEN BEGIN 22
  SAY #94783
  IF ~~ THEN REPLY #94784 DO ~SetGlobal("OHB_GEZZT_POISON","GLOBAL",2)
TakePartyItem("OHBPTN09")
DestroyItem("OHBPTN09")
TakePartyItem("OHBCOM03")
DestroyItem("OHBCOM03")
GiveItemCreate("OHBPTN05",LastTalkedToBy,1,0,0)
AddJournalEntry(94816,QUEST)
~ EXIT
END

IF ~~ THEN BEGIN 23
  SAY #94785
  IF ~~ THEN GOTO 24
END

IF ~~ THEN BEGIN 24
  SAY #94786
  IF ~  PartyGoldGT(1699)
~ THEN REPLY #94787 DO ~TakePartyGold(1700)
SetGlobal("OHB_HIRE","GLOBAL",1)
SetGlobal("OHB_GEZZ_HIRED","GLOBAL",1)
~ EXIT
  IF ~  PartyGoldLT(1700)
~ THEN REPLY #94788 GOTO 7
  IF ~~ THEN REPLY #92146 GOTO 7
  IF ~~ THEN REPLY #94789 GOTO 8
END

IF ~~ THEN BEGIN 25
  SAY #94790
  IF ~~ THEN GOTO 26
END

IF ~~ THEN BEGIN 26
  SAY #94791
  IF ~~ THEN GOTO 27
END

IF ~~ THEN BEGIN 27
  SAY #94792
  IF ~~ THEN GOTO 28
END

IF ~~ THEN BEGIN 28
  SAY #94793
  IF ~  OR(2)
CheckStatGT(Player1,17,INT)
CheckStatGT(Player1,59,LORE)
~ THEN REPLY #94794 GOTO 29
  IF ~~ THEN REPLY #94795 GOTO 9
  IF ~~ THEN REPLY #94796 GOTO 7
  IF ~~ THEN REPLY #94797 GOTO 8
END

IF ~~ THEN BEGIN 29
  SAY #94798
  IF ~~ THEN GOTO 30
END

IF ~~ THEN BEGIN 30
  SAY #94799
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 31
  SAY #94800
  IF ~~ THEN GOTO 32
END

IF ~~ THEN BEGIN 32
  SAY #94801
  IF ~  OR(2)
CheckStatGT(Player1,17,INT)
CheckStatGT(Player1,59,LORE)
~ THEN REPLY #94802 GOTO 34
  IF ~~ THEN REPLY #94803 GOTO 35
  IF ~~ THEN REPLY #92287 GOTO 33
  IF ~~ THEN REPLY #94804 GOTO 7
  IF ~~ THEN REPLY #92094 GOTO 8
END

IF ~~ THEN BEGIN 33
  SAY #94805
  IF ~~ THEN GOTO 9
END

IF ~~ THEN BEGIN 34
  SAY #94806
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 35
  SAY #94807
  IF ~~ THEN GOTO 36
END

IF ~~ THEN BEGIN 36
  SAY #94808
  IF ~~ THEN REPLY #94809 GOTO 9
  IF ~~ THEN REPLY #94810 GOTO 7
  IF ~~ THEN REPLY #92094 GOTO 8
END

IF ~~ THEN BEGIN 37
  SAY #92877
  IF ~~ THEN EXTERN ~OHBBRODL~ 58
  IF ~  InMyArea("ohbdulf")
!Dead("ohbdulf")
~ THEN EXTERN ~OHBDULF~ 57
  IF ~  InMyArea("ohbhort")
!Dead("ohbhort")
~ THEN EXTERN ~OHBHORT~ 38
  IF ~  InMyArea("ohbtimmo")
!Dead("ohbtimmo")
~ THEN EXTERN ~OHBTIMMO~ 54
END

IF ~~ THEN BEGIN 38
  SAY #92884
  IF ~~ THEN EXTERN ~OHBBRODL~ 59
  IF ~  InMyArea("ohbdulf")
!Dead("ohbdulf")
~ THEN EXTERN ~OHBDULF~ 58
  IF ~  InMyArea("ohbfeldr")
!Dead("ohbfeldr")
~ THEN EXTERN ~OHBFELDR~ 33
  IF ~  InMyArea("ohbmercy")
!Dead("ohbmercy")
~ THEN EXTERN ~OHBMERCY~ 36
END

IF ~~ THEN BEGIN 39
  SAY #92898
  IF ~~ THEN EXTERN ~OHBBRODL~ 63
  IF ~  InMyArea("ohbfeldr")
!Dead("ohbfeldr")
~ THEN EXTERN ~OHBFELDR~ 34
  IF ~  InMyArea("ohbmercy")
!Dead("ohbmercy")
~ THEN EXTERN ~OHBMERCY~ 37
END

IF ~~ THEN BEGIN 40
  SAY #92911
  IF ~~ THEN EXTERN ~OHBBRODL~ 69
  IF ~  InMyArea("ohbdulf")
!Dead("ohbdulf")
~ THEN EXTERN ~OHBDULF~ 60
  IF ~  InMyArea("ohbfeldr")
!Dead("ohbfeldr")
~ THEN EXTERN ~OHBFELDR~ 35
  IF ~  InMyArea("ohbmercy")
!Dead("ohbmercy")
~ THEN EXTERN ~OHBMERCY~ 38
  IF ~  InMyArea("ohbhort")
!Dead("ohbhort")
~ THEN EXTERN ~OHBHORT~ 41
  IF ~  InMyArea("ohbtimmo")
!Dead("ohbtimmo")
~ THEN EXTERN ~OHBTIMMO~ 57
END

IF ~~ THEN BEGIN 41
  SAY #92924
  IF ~~ THEN EXTERN ~OHBBRODL~ 74
  IF ~  InMyArea("ohbfeldr")
!Dead("ohbfeldr")
~ THEN EXTERN ~OHBFELDR~ 36
  IF ~  InMyArea("ohbtimmo")
!Dead("ohbtimmo")
~ THEN EXTERN ~OHBTIMMO~ 58
END

IF WEIGHT #7 ~  Global("ohb_finale","global",1)
~ THEN BEGIN 42
  SAY #92924
  IF ~~ THEN EXIT
END

IF WEIGHT #8 ~  Global("ohb_finale","global",6)
~ THEN BEGIN 43
  SAY #92982
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 44
  SAY #100618
  IF ~~ THEN EXTERN ~OHBBRODL~ 89
  IF ~  InMyArea("ohblea")
!Dead("ohblea")
~ THEN EXTERN ~OHBLEA~ 17
  IF ~  InMyArea("ohbdulf")
!Dead("ohbdulf")
~ THEN EXTERN ~OHBDULF~ 66
  IF ~  InMyArea("ohbtimmo")
!Dead("ohbtimmo")
~ THEN EXTERN ~OHBTIMMO~ 61
  IF ~  InMyArea("ohbgerro")
!Dead("ohbgerro")
~ THEN EXTERN ~OHBGERRO~ 40
  IF ~  InMyArea("ohbfeldr")
!Dead("ohbfeldr")
~ THEN EXTERN ~OHBFELDR~ 39
  IF ~  InMyArea("ohbmercy")
!Dead("ohbmercy")
~ THEN EXTERN ~OHBMERCY~ 42
  IF ~  InMyArea("ohbhort")
!Dead("ohbhort")
~ THEN EXTERN ~OHBHORT~ 45
  IF ~  InMyArea("ohbsymm")
!Dead("ohbsymm")
~ THEN EXTERN ~OHBSYMM~ 38
END

IF ~~ THEN BEGIN 45
  SAY #95646
  IF ~~ THEN EXTERN ~OHBDULF~ 5
END

IF ~~ THEN BEGIN 46
  SAY #95648
  IF ~~ THEN EXTERN ~OHBDULF~ 6
END

IF ~~ THEN BEGIN 47
  SAY #95650
  IF ~~ THEN EXTERN ~OHBDULF~ 7
END

IF ~~ THEN BEGIN 48
  SAY #95657
  IF ~~ THEN DO ~AddJournalEntry(103096,QUEST)
SetGlobal("ohb_know_dulf_needs_salve","global",1)
~ EXIT
END

IF ~~ THEN BEGIN 49
  SAY #95685
  IF ~  PartyHasItem("ohbptn02")
~ THEN REPLY #95686 DO ~SetGlobal("OHB_DULF_RESTOREDONCE","GLOBAL",1)
SetGlobal("OHB_DULF_SANE","GLOBAL",1)
SetGlobalTimer("OHB_DULF_TIMER","GLOBAL",900)
TakePartyItem("ohbptn02")
DestroyItem("ohbptn02")
~ GOTO 52
  IF ~~ THEN REPLY #95687 EXIT
END

IF ~~ THEN BEGIN 50
  SAY #95688
  IF ~  PartyHasItem("ohbptn02")
~ THEN REPLY #95689 DO ~SetGlobal("OHB_DULF_SANE","GLOBAL",1)
SetGlobalTimer("OHB_DULF_TIMER","GLOBAL",900)
TakePartyItem("ohbptn02")
DestroyItem("ohbptn02")
~ GOTO 51
  IF ~~ THEN REPLY #95690 EXIT
END

IF ~~ THEN BEGIN 51
  SAY #95691
  IF ~~ THEN EXTERN ~OHBDULF~ 14
END

IF ~~ THEN BEGIN 52
  SAY #95700
  IF ~~ THEN GOTO 53
END

IF ~~ THEN BEGIN 53
  SAY #95701
  IF ~~ THEN EXTERN ~OHBDULF~ 16
END

IF ~~ THEN BEGIN 54
  SAY #95705
  IF ~~ THEN EXTERN ~OHBDULF~ 19
END

IF ~~ THEN BEGIN 55
  SAY #95722
  IF ~~ THEN EXTERN ~OHBDULF~ 26
END

IF ~~ THEN BEGIN 56
  SAY #95726
  IF ~~ THEN EXTERN ~OHBDULF~ 28
END

IF ~~ THEN BEGIN 57
  SAY #95728
  IF ~~ THEN EXTERN ~OHBDULF~ 30
END

IF ~~ THEN BEGIN 58
  SAY #95742
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 59
  SAY #90492
  IF ~~ THEN EXTERN ~OHBMERCY~ 43
END

IF ~~ THEN BEGIN 60
  SAY #90502
  IF ~~ THEN EXTERN ~OHBHORT~ 47
END

IF ~~ THEN BEGIN 61
  SAY #90504
  IF ~~ THEN EXTERN ~OHBHORT~ 48
END

IF ~~ THEN BEGIN 62
  SAY #90506
  IF ~~ THEN EXTERN ~OHBMESSE~ 4
END

IF WEIGHT #2 ~  Global("ohb_finale","global",0)
!Global("OHB_brodle_uprising_ready","GLOBAL",0)
~ THEN BEGIN 63
  SAY #92945
  IF ~~ THEN EXIT
END

IF ~~ THEN BEGIN 64
  SAY #102941
  IF ~~ THEN REPLY #102942 GOTO 66
  IF ~~ THEN REPLY #102943 GOTO 66
  IF ~~ THEN REPLY #102944 GOTO 65
END

IF ~~ THEN BEGIN 65
  SAY #102946
  IF ~~ THEN REPLY #102945 GOTO 70
  IF ~~ THEN REPLY #102947 GOTO 66
END

IF ~~ THEN BEGIN 66
  SAY #102948
  IF ~~ THEN GOTO 67
END

IF ~~ THEN BEGIN 67
  SAY #102949
  IF ~~ THEN GOTO 68
END

IF ~~ THEN BEGIN 68
  SAY #102950
  IF ~~ THEN REPLY #102951 GOTO 69
  IF ~~ THEN REPLY #102952 EXIT
END

IF ~~ THEN BEGIN 69
  SAY #102953
  IF ~~ THEN DO ~TakePartyItem("ohbcom05")
DestroyItem("ohbcom05")
SetGlobal("ohb_gezzt_feather","global",1)
SetGlobalTimer("ohb_gezzt_feather_timer","global",TWENTY_HOURS)
~ EXIT
END

IF ~~ THEN BEGIN 70
  SAY #102954
  IF ~~ THEN GOTO 66
END

IF WEIGHT #5 ~  Global("OHB_TALKED_GEZZT","LOCALS",1)
Global("ohb_finale","global",0)
Global("ohb_gezzt_feather","global",1)
GlobalTimerExpired("ohb_gezzt_feather_timer","global")
~ THEN BEGIN 71
  SAY #102955
  IF ~~ THEN GOTO 72
END

IF ~~ THEN BEGIN 72
  SAY #102956
  IF ~~ THEN DO ~SetGlobal("ohb_gezzt_feather","global",1)
GiveItemCreate("ohbscrl3",LastTalkedToBy(Myself),1,0,0)
~ EXIT
END
